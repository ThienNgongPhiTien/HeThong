<head><script type="module">const e=[{key:'world',title:'Bối Cảnh Thế Giới',desc:'Chọn tông màu câu chuyện và bối cảnh thời đại',required:!1,options:[{label:'Đô thị cận tương lai',hint:'',wide:!0},{label:'Khu phố Cyberpunk',hint:''},{label:'Thời đại hơi nước',hint:''},{label:'Cổ đại giả tưởng',hint:''},{label:'Học viện ma pháp',hint:'',wide:!0},{label:'Mạt thế hoang tàn',hint:''},{label:'Đô thị dưới biển',hint:''},{label:'Đời thường hiện thực',hint:''}]},{key:'age',title:'Tuổi Tác',desc:'Khoảng tuổi của vật chủ',required:!1,options:[{label:'18-22',hint:''},{label:'23-27',hint:'',wide:!0},{label:'28-33',hint:''},{label:'34-38',hint:'',wide:!0},{label:'39-45',hint:''},{label:'46+',hint:''}]},{key:'gender',title:'Giới Tính Vật Chủ',desc:'Chọn giới tính vật chủ',required:!1,options:[{label:'Nam',hint:''},{label:'Nữ',hint:''},{label:'Nam Nương',hint:''},{label:'Futa',hint:''}]},{key:'personality',title:'Tính Cách',desc:'Tính cách quyết định phong cách tương tác',required:!1,options:[{label:'Bình tĩnh lý trí',hint:''},{label:'Ôn nhu thuận tùng',hint:'',wide:!0},{label:'Mạnh mẽ kiểm soát',hint:''},{label:'Tò mò ham chơi',hint:'',wide:!0},{label:'Cao lãnh tự kỷ luật',hint:''},{label:'Ngoài lạnh trong nóng',hint:''},{label:'Nhạy cảm đa nghi',hint:''},{label:'Quyến rũ tương phản',hint:'',wide:!0}]},{key:'kink',title:'Sở Thích Đặc Biệt',desc:'Loại hình tương tác và kích thích ưa thích',required:!1,options:[{label:'Kiểm soát và ra lệnh',hint:'',wide:!0},{label:'Sỉ nhục bằng lời nói',hint:''},{label:'Điều giáo kiểu khen thưởng',hint:''},{label:'Nhập vai (Roleplay)',hint:'',wide:!0},{label:'Trói buộc nhẹ',hint:''},{label:'Tước đoạt giác quan',hint:''},{label:'Kiểm soát cao trào',hint:'',wide:!0},{label:'Nhìn trộm',hint:''},{label:'Phô bày',hint:''}]},{key:'identity',title:'Thân Phận Vật Chủ',desc:'Thân phận xã hội hoặc nhãn nghề nghiệp',required:!1,options:[{label:'Học sinh',hint:''},{label:'Học giả',hint:''},{label:'Nhân viên văn phòng',hint:''},{label:'Quản lý',hint:'',wide:!0},{label:'Y tế',hint:''},{label:'Giáo viên',hint:''},{label:'Nghệ sĩ',hint:''},{label:'Người mẫu',hint:'',wide:!0},{label:'Tự do',hint:''},{label:'Quân cảnh',hint:''},{label:'Bảo an',hint:''},{label:'Truyền thông',hint:''},{label:'Quan hệ công chúng',hint:'',wide:!0},{label:'Tôn giáo',hint:''},{label:'Tổ chức bí ẩn',hint:''}]}],t={currentStep:0,selections:{},customInputs:{}},n='system-dark-mode';function i(){return'true'===localStorage.getItem(n)}function l(e){e?document.documentElement.setAttribute('data-theme','dark'):document.documentElement.removeAttribute('data-theme');const t=$('#btn-theme-toggle');t.toggleClass('is-active',e),t.text(e?'Chế độ tối: Bật':'Chế độ tối: Tắt')}function a(){const n=$('#step-nav');n.empty(),n.append('<div class="nav-title">Điều hướng quy trình</div>'),e.forEach((e,i)=>{const l=t.currentStep===i,a=!!t.selections[e.key],o=$(`\n      <button class="nav-item ${l?'active':''}">\n        <span class="nav-index">${String(i+1).padStart(2,'0')}</span>\n        <span class="nav-text">${e.title}</span>\n        ${a?'<span class="nav-check">✓</span>':''}\n      </button>\n    `);o.on('click',()=>{t.currentStep=i,r()}),n.append(o)});const i=(t.currentStep+1)/e.length*100;n.append(`\n    <div class="nav-progress">\n      <div class="progress-bar"><div class="progress-fill" style="width:${i}%"></div></div>\n      <div class="progress-text">${t.currentStep+1} / ${e.length}</div>\n    </div>\n  `)}function o(e){const n=t.selections[e.key];if(!n)return'';const i=e.options.find(e=>e.label===n);return i?.hint?`${n}（${i.hint}）`:n}function s(){const n=$('#preview-lines');n.empty(),n.append('<div class="preview-line">Vật chủ đã chọn xong, bắt đầu tạo thế giới quan, dữ liệu như sau:</div>'),e.forEach(e=>{t.selections[e.key]&&n.append(`<div class="preview-line">${e.title}：${o(e)}</div>`)});const i=($('#extra-info').val()||'').trim();i&&n.append(`<div class="preview-line">Thông tin bổ sung：${i}</div>`)}function r(){a(),function(){const n=e[t.currentStep];$('#step-title').text(n.title),$('#step-desc').text(n.desc)}(),function(){const n=e[t.currentStep],i=$('#step-options');i.empty();const l=t.selections[n.key]||'',o=$(`\n    <button class="option skip ${l?'':'selected'}">\n      <div class="opt-label">Bỏ qua mục này</div>\n      <div class="opt-hint">Không thiết lập thuộc tính này</div>\n    </button>\n  `);o.on('click',()=>{delete t.selections[n.key],t.customInputs[n.key]='',r()}),i.append(o),n.options.forEach(e=>{const a=l===e.label,o=$(`\n      <button class="option ${e.wide?'wide':''} ${a?'selected':''}">\n        <div class="opt-label">${e.label}</div>\n        <div class="opt-hint">${e.hint}</div>\n      </button>\n    `);o.on('click',()=>{t.selections[n.key]=e.label,t.customInputs[n.key]='',r()}),i.append(o)});const c=l&&!n.options.some(e=>e.label===l),d=t.customInputs[n.key]||'',p=$(`\n    <div class="option custom wide ${c?'selected':''}">\n      <div class="opt-label">Tùy chỉnh</div>\n      <div class="opt-hint">Nhập thiết lập phù hợp hơn với bạn</div>\n      <input class="custom-input" type="text" placeholder="Vui lòng nhập nội dung tùy chỉnh" value="${d}" />\n    </div>\n  `);p.find('.custom-input').on('input',function(){const e=$(this).val();t.customInputs[n.key]=e,t.selections[n.key]=e.trim(),a(),s()}),p.on('click',function(e){$(e.target).is('input')||$(this).find('input').trigger('focus')}),i.append(p)}(),s(),function(){const n=0===t.currentStep,i=t.currentStep===e.length-1;$('#btn-prev').prop('disabled',n),$('#btn-next').toggle(!i),$('#btn-generate').toggle(i)}()}function c(){e.forEach(e=>{const n=e.options.map(e=>e.label),i=n[Math.floor(Math.random()*n.length)];t.selections[e.key]=i,t.customInputs[e.key]=''}),t.currentStep=e.length-1,r(),toastr.success('Đã chọn ngẫu nhiên và chuyển tiếp')}function d(){t.selections={},t.customInputs={},t.currentStep=0,$('#extra-info').val(''),$('#fan-work').val(''),$('#fan-role').val(''),$('#fan-extra').val(''),r(),p(),toastr.info('Đã đặt lại')}function p(){const e=$('#fan-preview-lines');e.empty(),e.append('<div class="preview-line">Vật chủ đã chọn xong, bắt đầu tạo thế giới quan, dữ liệu như sau:</div>');const t=($('#fan-work').val()||'').trim(),n=($('#fan-role').val()||'').trim(),i=($('#fan-extra').val()||'').trim();t&&e.append(`<div class="preview-line">Tên tác phẩm：${t}</div>`),n&&e.append(`<div class="preview-line">Tên nhân vật：${n}</div>`),i&&e.append(`<div class="preview-line">Nội dung bổ sung：${i}</div>`)}async function u(){const e=($('#fan-role').val()||'').trim(),t=getCharWorldbookNames('current');if(!t.primary)return toastr.warning('Thẻ nhân vật hiện tại chưa liên kết sách thế giới chính'),null;const n=function(){const e=($('#fan-work').val()||'').trim(),t=($('#fan-role').val()||'').trim(),n=($('#fan-extra').val()||'').replace(/```/g,'').trim(),i=['```','<Thế Giới Đồng Nhân>','Tiêu đề: Thế Giới Đồng Nhân',`Tác phẩm: ${e||'Chưa điền'}`,`Nhân vật: ${t||'Chưa điền'}`];if(n){const e=n.replace(/\r/g,'').split('\n').map(e=>`  ${e}`).join('\n');i.push('Bổ sung: |',e)}else i.push('Bổ sung: Không');return i.push('</Thế Giới Đồng Nhân>','```'),i.join('\n')}();return await createWorldbookEntries(t.primary,[{name:e,strategy:{type:'constant',keys:[]},position:{type:'before_character_definition',order:100},content:n,enabled:!0,probability:100,recursion:{prevent_incoming:!0,prevent_outgoing:!0,delay_until:null},effect:{sticky:null,cooldown:null,delay:null}}]),e}$(()=>{l(i()),$('#btn-theme-toggle').on('click',()=>{var e;e=!i(),localStorage.setItem(n,String(e)),l(e)}),window.addEventListener('storage',e=>{e.key===n&&l('true'===e.newValue)}),$('.mode-btn').on('click',function(){const e=$(this).data('mode');$('.mode-btn').removeClass('is-active'),$(this).addClass('is-active'),'normal'===e?($('#normal-mode').show(),$('#fan-mode').hide()):($('#normal-mode').hide(),$('#fan-mode').show())}),$('#btn-prev').on('click',()=>{t.currentStep>0&&(t.currentStep--,r())}),$('#btn-next').on('click',()=>{const n=e[t.currentStep];!n.required||t.selections[n.key]?t.currentStep<e.length-1&&(t.currentStep++,r()):toastr.warning(`Vui lòng chọn trước ${n.title}`)}),$('#btn-random').on('click',c),$('#btn-reset').on('click',d),$('#btn-generate').on('click',()=>{const n=function(){const n=e.filter(e=>t.selections[e.key]).map(e=>`${e.title}：${o(e)}`),i=($('#extra-info').val()||'').trim();return i&&n.push(`Thông tin bổ sung：${i}`),`Vật chủ đã chọn xong, bắt đầu tạo thế giới quan, dữ liệu như sau: ${n.join('；')}`}();triggerSlash(`/setinput ${n}`),toastr.success('Đã ghi vào ô nhập liệu')}),$('#extra-info').on('input',s),$('#fan-work, #fan-role, #fan-extra').on('input',p),$('#btn-fan-expand').on('click',()=>{$('#fan-editor-textarea').val($('#fan-extra').val()),$('#fan-editor-panel').show(),$('#fan-notice-panel').hide(),$('#fan-overlay').addClass('active')}),$('#btn-fan-cancel').on('click',()=>{$('#fan-overlay').removeClass('active')}),$('#btn-fan-apply').on('click',()=>{$('#fan-extra').val($('#fan-editor-textarea').val()),$('#fan-overlay').removeClass('active'),p()}),$('#btn-fan-notice-close').on('click',()=>{$('#fan-overlay').removeClass('active')}),$('#btn-fan-generate').on('click',async()=>{const e=($('#fan-work').val()||'').trim(),t=($('#fan-role').val()||'').trim();if(!e||!t)return void toastr.warning('Chế độ đồng nhân cần điền tên tác phẩm và tên nhân vật');const n=function(){const e=($('#fan-work').val()||'').trim(),t=($('#fan-role').val()||'').trim(),n=($('#fan-extra').val()||'').trim(),i=[`Tên tác phẩm：${e}`,`Tên nhân vật：${t}`];return n&&i.push(`Nội dung bổ sung：${n}`),`Vật chủ đã chọn xong, bắt đầu tạo thế giới quan, dữ liệu như sau: ${i.join('；')}`}();triggerSlash(`/setinput ${n}`),toastr.success('Đã ghi vào ô nhập liệu');try{const e=await u();e&&($('#fan-notice-text').text(`Đã tạo mục sách thế giới: ${e}. Mục này sẽ không tự động xóa, nếu không cần vui lòng xóa thủ công.`),$('#fan-editor-panel').hide(),$('#fan-notice-panel').show(),$('#fan-overlay').addClass('active'))}catch(e){console.error(e),toastr.error('Tạo mục sách thế giới thất bại')}}),r(),p()});
//# sourceMappingURL=index.js.map</script><style>:root{--bg-paper:#f0f0f0;--bg-window:#e2e2e2;--bg-panel:#f7f7f7;--bg-inset:#dcdcdc;--ink:#0c0c0c;--ink-soft:#2b2b2b;--ink-dim:#6a6a6a;--border:#000000;--border-light:#ffffff;--shadow-hard:2px 2px 0 #000000;--shadow-soft:1px 1px 0 #000000;--accent-rainbow:linear-gradient(90deg,#ff3b30,#ff9500,#ffcc00,#34c759,#5ac8fa,#007aff,#5856d6);--font-ui:'Chicago','Geneva','Pixelated MS Sans Serif','MS Sans Serif','Courier New',monospace;--font-mono:'Courier New','Chicago',monospace}:root[data-theme=dark]{--bg-paper:#1b1b1b;--bg-window:#242424;--bg-panel:#2a2a2a;--bg-inset:#141414;--ink:#d2d2d2;--ink-soft:#b0b0b0;--ink-dim:#8a8a8a;--border:#4a4a4a;--border-light:#2f2f2f;--shadow-hard:1px 1px 0 #0a0a0a;--shadow-soft:0 0 0 #000000}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-ui);background:rgba(0,0,0,0);color:var(--ink);font-size:13px;line-height:1.4}#app{width:100%;max-width:none;padding:10px}.shell{display:flex;flex-direction:column;gap:12px;padding:10px;border:1px solid var(--border);background:linear-gradient(135deg,rgba(0,0,0,0.06),transparent 55%),linear-gradient(0deg,var(--bg-window),var(--bg-paper));box-shadow:var(--shadow-hard)}.toast{position:fixed;top:10px;right:10px;padding:6px 10px;border:1px solid var(--border);background:var(--bg-panel);box-shadow:var(--shadow-soft);font-size:.75rem;display:none;z-index:100}.toast.show{display:block}.top-bar{display:grid;grid-template-columns:1fr;gap:8px;align-items:end;padding:10px 12px;background:var(--bg-panel);border:1px solid var(--border);box-shadow:var(--shadow-soft);position:relative}.top-bar::before{content:"";position:absolute;right:10px;top:8px;width:36px;height:6px;background:var(--accent-rainbow);border:1px solid var(--border)}.title{font-size:1rem;font-weight:700;color:var(--ink)}.subtitle{grid-column:1/-1;font-size:.75rem;color:var(--ink-dim)}.top-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}.mode-switch{display:flex;gap:8px;flex-wrap:wrap}.theme-btn.is-active{background:var(--bg-inset);box-shadow:var(--shadow-hard)}.btn{border:1px solid var(--border);background:var(--bg-panel);box-shadow:var(--shadow-hard);padding:6px 10px;font-size:.75rem;cursor:pointer;font-family:var(--font-ui);color:var(--ink);transition:transform .1s ease,box-shadow .1s ease,background .2s ease}.btn:active{transform:translate(1px,1px);box-shadow:var(--shadow-soft)}.btn[disabled]{opacity:.5;cursor:not-allowed;pointer-events:none}.btn.confirm{background:var(--bg-inset)}.mode-btn.is-active{background:var(--bg-inset);box-shadow:var(--shadow-hard)}.body{display:grid;grid-template-columns:minmax(160px,220px) minmax(0,1fr);gap:12px;align-items:start}.main{display:flex;flex-direction:column;gap:12px}.nav{display:flex;flex-direction:column;gap:6px;padding:10px;background:var(--bg-panel);border:1px solid var(--border);box-shadow:var(--shadow-soft)}.nav-title{font-size:.75rem;color:var(--ink-soft);letter-spacing:1px;text-transform:uppercase;margin-bottom:4px}.nav-item{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:6px;padding:6px 8px;border:1px solid var(--border);background:var(--bg-paper);font-size:.75rem;cursor:pointer;text-align:left;font-family:var(--font-ui);color:var(--ink)}.nav-item.active{background:var(--bg-inset);font-weight:700}.nav-index{font-family:var(--font-mono);font-size:.7rem}.nav-check{font-size:.7rem}.nav-progress{margin-top:10px;display:flex;flex-direction:column;gap:6px}.progress-bar{width:100%;height:4px;background:var(--bg-inset);border:1px solid var(--border)}.progress-fill{height:100%;background:var(--accent-rainbow)}.progress-text{font-size:.7rem;color:var(--ink-dim)}.step-header{padding:10px 12px;border:1px solid var(--border);background:var(--bg-panel);box-shadow:var(--shadow-soft);transform:translateX(4px)}.step-title{font-size:.95rem;font-weight:700;color:var(--ink)}.step-desc{font-size:.75rem;color:var(--ink-dim);margin-top:4px}.options{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}.option{padding:10px;border:1px solid var(--border);background:var(--bg-paper);box-shadow:var(--shadow-soft);text-align:left;cursor:pointer;font-family:var(--font-ui);color:var(--ink);transition:transform .12s ease,box-shadow .12s ease}.option.wide{grid-column:span 2}.option.skip{border-style:dashed;opacity:.7}.option.selected{background:var(--bg-inset);transform:translateX(4px);box-shadow:var(--shadow-hard);opacity:1}.option.custom{display:flex;flex-direction:column;gap:6px}.opt-label{font-size:.85rem;font-weight:700}.opt-hint{font-size:.7rem;color:var(--ink-dim)}.custom-input{width:100%;padding:6px 8px;background:var(--bg-window);border:1px solid var(--border);font-family:var(--font-ui);font-size:.75rem;color:var(--ink)}.preview{margin-left:16px;padding:10px 12px;border:1px solid var(--border);background:var(--bg-panel);box-shadow:var(--shadow-soft)}.preview-title{font-size:.75rem;color:var(--ink-soft);letter-spacing:1px;text-transform:uppercase}.preview-lines{margin-top:6px;display:flex;flex-direction:column;gap:4px;font-family:var(--font-mono);font-size:.75rem;color:var(--ink)}.preview-line::before{content:"> ";color:var(--ink-dim)}.action-panel{display:flex;flex-direction:column;gap:10px}.extra-row{display:flex;flex-direction:column;gap:4px}.extra-row label{font-size:.7rem;color:var(--ink-dim)}.extra-input{width:100%;min-height:60px;padding:6px 8px;background:var(--bg-window);border:1px solid var(--border);font-family:var(--font-ui);font-size:.75rem;color:var(--ink);resize:vertical}.actions{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.fan-body{display:grid;grid-template-columns:minmax(160px,220px) minmax(0,1fr);gap:12px;align-items:start}.fan-side{display:flex;flex-direction:column;gap:10px}.fan-main{display:flex;flex-direction:column;gap:12px}.fan-box{padding:10px 12px;border:1px solid var(--border);background:var(--bg-panel);box-shadow:var(--shadow-soft)}.fan-panel{padding:10px 12px;border:1px solid var(--border);background:var(--bg-panel);box-shadow:var(--shadow-soft);display:flex;flex-direction:column;gap:8px}.fan-panel-title{font-size:.8rem;font-weight:700;margin-bottom:8px}.fan-fields{display:grid;grid-template-columns:minmax(160px,1fr) minmax(200px,1.4fr);gap:10px;align-items:start}.fan-col{display:flex;flex-direction:column;gap:8px}.fan-row{display:flex;flex-direction:column;gap:4px}.fan-row label{font-size:.7rem;color:var(--ink-dim)}.fan-input,.fan-textarea{width:100%;padding:6px 8px;background:var(--bg-window);border:1px solid var(--border);font-family:var(--font-ui);font-size:.75rem;color:var(--ink)}.fan-textarea{height:160px;resize:vertical}.fan-row-actions{display:flex;justify-content:flex-end;margin-top:4px}.fan-actions{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.fan-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;padding:16px;z-index:1000}.fan-overlay.active{display:flex}.fan-editor{width:min(720px,96%);height:min(500px,90%);background:var(--bg-paper);border:1px solid var(--border);box-shadow:var(--shadow-hard);padding:12px;display:flex;flex-direction:column;gap:8px}.fan-editor.notice{width:min(420px,92%);height:auto;background:var(--bg-panel)}.fan-editor.notice::before{content:"";height:6px;background:var(--accent-rainbow);border:1px solid var(--border)}.fan-editor textarea{flex:1;width:100%;padding:8px;background:var(--bg-window);border:1px solid var(--border);font-family:var(--font-ui);font-size:.8rem;color:var(--ink);resize:none}.fan-editor-title{font-size:.85rem;font-weight:700;color:var(--ink)}.fan-notice{font-size:.8rem;color:var(--ink-soft);line-height:1.5;padding:8px;border:1px solid var(--border);background:var(--bg-window)}@media (max-width:820px){.body,.fan-body{grid-template-columns:1fr}.fan-fields{grid-template-columns:1fr}.options{grid-template-columns:1fr}.option.wide{grid-column:span 1}.step-header{transform:none}.preview{margin-left:0}.fan-row-actions{justify-content:flex-start}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"><div class="shell"><div class="toast" id="toast"></div><div class="top-bar"><div class="title">Bộ Chọn Vật Chủ</div><div class="subtitle">Dùng cho vật chủ mới hoặc tùy chỉnh khởi đầu, tạo từ gợi ý rồi ghi vào ô nhập liệu</div><div class="top-actions"><div class="mode-switch"><button class="btn mode-btn is-active" data-mode="normal">Chế độ thường</button> <button class="btn mode-btn" data-mode="fan">Chế độ đồng nhân</button></div><button class="btn theme-btn" id="btn-theme-toggle">Chế độ tối: Tắt</button></div></div><div id="normal-mode" class="mode-content"><div class="body"><aside class="nav" id="step-nav"></aside><section class="main"><header class="step-header"><div class="step-title" id="step-title"></div><div class="step-desc" id="step-desc"></div></header><div class="options" id="step-options"></div><div class="preview"><div class="preview-title">Xem trước đầu ra</div><div class="preview-lines" id="preview-lines"></div></div><div class="action-panel"><div class="extra-row"><label>Thông tin bổ sung</label> <textarea class="extra-input" id="extra-info" placeholder="Có thể điền thêm thiết lập vật chủ, câu chuyện nền, v.v."></textarea></div><div class="actions"><button class="btn" id="btn-random">Ngẫu nhiên</button> <button class="btn" id="btn-reset">Đặt lại</button> <button class="btn" id="btn-prev" disabled="disabled">Bước trước</button> <button class="btn" id="btn-next">Bước sau</button> <button class="btn confirm" id="btn-generate" style="display:none">Tạo từ gợi ý</button></div></div></section></div></div><div id="fan-mode" class="mode-content" style="display:none"><div class="fan-body"><aside class="fan-side"><div class="fan-box"><div class="preview-title">Xem trước đầu ra</div><div class="preview-lines" id="fan-preview-lines"></div></div></aside><section class="fan-main"><div class="fan-panel"><div class="fan-panel-title">Tư liệu đồng nhân</div><div class="fan-fields"><div class="fan-col"><div class="fan-row"><label>Tên tác phẩm</label> <input class="fan-input" id="fan-work" placeholder="Ví dụ: Tên tác phẩm"/></div><div class="fan-row"><label>Tên nhân vật</label> <input class="fan-input" id="fan-role" placeholder="Ví dụ: Tên nhân vật"/></div></div><div class="fan-col"><div class="fan-row"><label>Nội dung bổ sung</label> <textarea class="fan-textarea" id="fan-extra" placeholder="Có thể điền thêm thiết lập, cốt truyện hoặc chi tiết"></textarea><div class="fan-row-actions"><button class="btn fan-expand" id="btn-fan-expand">Phóng to chỉnh sửa</button></div></div></div></div></div><div class="actions fan-actions"><button class="btn confirm" id="btn-fan-generate">Tạo từ gợi ý</button></div></section></div></div></div><div class="fan-overlay" id="fan-overlay"><div class="fan-editor" id="fan-editor-panel"><div class="fan-editor-title">Nội dung bổ sung (Chỉnh sửa toàn màn hình)</div><textarea id="fan-editor-textarea" placeholder="Nhập thêm nội dung bổ sung"></textarea><div class="fan-actions"><button class="btn" id="btn-fan-cancel">Hủy</button> <button class="btn confirm" id="btn-fan-apply">Hoàn thành</button></div></div><div class="fan-editor notice" id="fan-notice-panel" style="display:none"><div class="fan-editor-title">Mục đồng nhân đã được tạo</div><div class="fan-notice" id="fan-notice-text"></div><div class="fan-actions"><button class="btn confirm" id="btn-fan-notice-close">Đã hiểu</button></div></div></div></div></body>